# Stripe (required for Tier 1 pay-per-report)
# Create keys at https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_live_...
# Publishable key (safe for frontend; set in .env or host env, do not commit live key to repo)
# STRIPE_PUBLISHABLE_KEY=pk_live_...
# Optional: use test keys for development
# STRIPE_SECRET_KEY_TEST=sk_test_...
# STRIPE_PUBLISHABLE_KEY_TEST=pk_test_...
# Optional: Stripe Payment Link (buy.stripe.com/...) for marketing or manual sales. App Tier 1 uses Checkout Sessions so payment is tied to the report; this link is for reference or alternate use.
# STRIPE_PAYMENT_LINK=https://buy.stripe.com/00w14f4ac9gL3xId3m6sw00

# Development only: show "Demo â€” get report" and allow PDF/HTML without payment. Do NOT set in production.
# Uncomment for local demo. Values accepted: 1, true, yes. .env is loaded when running python main.py.
# ICEA_DEMO=1

# API key for programmatic access (POST /v1/report when ICEA_DEMO is not set). Optional if using demo or report-paid only.
# ICEA_API_KEY=your-secret-api-key

# Persistent store (default: project data/icea.db). Use a shared path for multi-instance.
# ICEA_DB_PATH=/var/lib/icea/icea.db

# Tier 2/3: notify on new expert request (optional)
# ICEA_EXPERT_REQUEST_WEBHOOK=https://your-crm.example.com/webhook
# ICEA_EXPERT_REQUEST_EMAIL=ops@example.com
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=
# SMTP_PASSWORD=
# SMTP_FROM=icea@example.com

# Security: rate limit (requests per window). Default 120 per 60s per IP.
# ICEA_RATE_LIMIT_REQUESTS=120
# ICEA_RATE_LIMIT_WINDOW_SEC=60
# CORS: comma-separated origins, or * for all. Empty = same-origin only.
# For subdomain icea.kpi99.co (local: include http://icea.kpi99.co:8000 and http://localhost:8000).
# ICEA_CORS_ORIGINS=https://icea.kpi99.co,https://kpi99.co,http://icea.kpi99.co:8000,http://localhost:8000

# Production: set ICEA_ENV=production (or NODE_ENV=production). Do not set ICEA_DEMO=1 in production.
# ICEA_DEMO_FAIL_IN_PROD=1  # optional: fail startup if ICEA_DEMO=1 in production

# Resilience: timeouts (seconds), optional analyze cache
# ICEA_ANALYZE_TIMEOUT_SEC=60
# ICEA_REPORT_TIMEOUT_SEC=120
# ICEA_ANALYZE_CACHE_TTL_SEC=300
# ICEA_ANALYZE_CACHE_MAX=500

# Data retention (days). Prune expert_requests and report_audit on startup.
# ICEA_RETENTION_DAYS_EXPERT=90
# ICEA_RETENTION_DAYS_AUDIT=365
